<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.multi.bbs.event.model.mapper.EventMapper">


	<select id="selectEventList" resultType="event" parameterType="map">
		SELECT
			* FROM EVENT
			WHERE 1 = 1
			<if test="name != null">
				AND name LIKE '%${name}%'
			</if>
			<if test="summary != null">
				AND summary LIKE '%${summary}%'
			</if>
			<if test="startDate != null">
				AND startDate LIKE '%${startDate}%'
			</if>
			<if test="endDate != null">
				AND endDate LIKE '%${endDate}%'
			</if>
			<if test="ageLimit != null">
				AND ageLimit LIKE '%${ageLimit}%'
			</if>
			<if test="fee != null">
				AND fee LIKE '%${fee}%'
			</if>
			<if test="location != null">
				AND location LIKE '%${location}%'
			</if>
			<if test="poster != null">
				AND poster LIKE '%${poster}%'
			</if>
	</select>
	
	<select id="selectEventByNoWithEvent" parameterType="int" resultType="eventProgram">
	    SELECT  
	        E.evntNo, E.name, E.summary, E.poster,
	        P.view, P.street, P.story, P.history, P.picture, P.market, P.food, P.sleep, P.img1, P.img2, P.img3
	    FROM Event E
	    JOIN EventProgram P ON(E.evntNo = P.evntNo)
	    WHERE 1 = 1
	    AND E.evntNo = #{evntNo}
	</select>
	
	
	
	
	
	
	
	
	
</mapper>